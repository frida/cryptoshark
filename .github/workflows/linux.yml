name: Linux

on:
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]

jobs:
  build:
    runs-on: ubuntu-20.04

    steps:
    - uses: actions/checkout@v2
      with:
        submodules: recursive

    - name: Get Dist Location
      id: get-dist-location
      run: |
        echo "::set-output name=path::$(cd "$GITHUB_WORKSPACE/../" && pwd)/dist"
      shell: bash

    - name: Test stuff
      run: |
        echo "DISTDIR is at $DISTDIR"
        echo "WORKSPACE is at $GITHUB_WORKSPACE"
      env:
        DISTDIR: ${{ steps.get-dist-location.outputs.path }}
